<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
  <meta http-equiv="cache-control" content="no-cache">
  <link rel="stylesheet" type="text/css" href="default.css" />
  <title>Zadání úlohy z B4B33ALG</title>
</head>
<body>﻿<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- saved from url=(0111)https://cw.felk.cvut.cz/brute/data/ae/release/2019z_b4b33alg/algzima2019/evaluation/input.php?task=occultations -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta http-equiv="cache-control" content="no-cache">
  <link rel="stylesheet" type="text/css" href="./Zadání úlohy z A4B33ALG_files/default.css">
  <title>Zadání úlohy z B4B33ALG</title>
</head>

<body>
 <div class="main">

<h2><font color="blue">Počítačová hra</font></h2>
<p align="justify">
V počítačové hře ovládáme postavičku zvanou Tom, která se pohybuje po čtvercové mřížce. Naším úkolem je pomocí přesunů vlevo, vpravo, nahoru a dolů
(ne diagonálně) přemístit Toma z levého dolního rohu do pravého horního rohu. Každý přesun Toma do sousedního pole nazýváme tahem.
V pohybu brání Tomovi barevné překážky (zdi), které se na některých polích mřížky vyskytují.
Zároveň některá pole mřížky fungují jako spínače, které všechny zdi jedné barvy, totožné s barvou spínače, zasunou do země. Pole s takovýmito překážkami
se změní na průchozí a zůstávají v tomto stavu, dokud Tom nevstoupí na spínač jiné barvy <i>B</i>. Když se tak stane, původně zasunuté zdi se opět vysunou a
zasunou se zdi barvy <i>B</i>.
<br>
Platí, že na začátku jsou všechny zdi vysunuté. Vysunutí a zasunutí zdí je okamžité. Tom se celým svým objemem vejde do jednoho pole.
Hrací plochu opustit nemůže. Pokud Tom vstoupí opakoveně na spínač jedné barvy, aniž by mezitím navštívil spínač jiné barvy, nestane se nic.
Na výchozím ani cílovém poli není zeď ani spínač. Spínač se nevyskytuje na poli se zdí.

</p>

<h3><font color="blue">Úloha</font></h3>
<p align="justify">
Pro danou hrací plochu nalezněte nejkratší posloupnost tahů, která přemístí Toma z výchozí pozice do pozice koncové.
</p>

&nbsp; 
&nbsp; <table border="0" width="800" align="center"><tbody><tr><td align="center">
<img style="width: 280px;" src="example.png">
<!--img style="width: 280px;" src="getdata.php?task=compgame&item=example.png"--><br>


<b>Obrázek 1.</b> Příklad hrací plochy rozměrů 4 &times; 6. Tom je ve své výchozí pozici znázorněn smajlíkem. 
Jsou přítomné překážky dvou barev - oranžové a modré. Plochy se spínači jsou znázorněné pomocí tří soustředných čtverců stejné barvy.
Fialová přerušovaná trasa reprezentuje možný optimální postup, který přemístí Toma s použitím 14-ti tahů do cílové pozice.
Vidíme, že po vykonání druhého tahu vstoupí Tom na pole se spínačem oranžové barvy, může se proto ve třetím a pátém tahu přesunout na pole
se zasunutou oranžovou zdí. Vzhledem k tomu, že přístup k pravému hornímu rohu blokují dvě modré zdi, je nutno navštívit pole s modrým spínačem.
To způsobí, že se modré zdi zasunou, oranžové se ale vysunou a je proto nutné je během zbývajících tahů obejít.
     </td></tr>
</tbody></table>

<hr>


<h3><font color="blue">Vstup</font></h3>
<p align="justify">
Na prvním vstupním řádku jsou tři celá čísla <i>M</i>, <i>N</i>, <i>C</i> oddělená mezerami.
Číslo <i>M</i>, resp. <i>N</i> je počet řádků, resp. sloupců čtvercové mřížky reprezentující hrací plochu.
Barvy překážek mají identifikátory 1 až <i>C</i>.
Následuje <i>M</i> řádků vstupu, kde <i>i</i>-tý z těchto řádků reprezentuje <i>i</i>-tý řádek čtvercové mřížky pomocí <i>N</i> celých čísel
oddělených mezerami, přičemž číslo 0 reprezentuje prázdné pole, kladné číslo od 1 do <i>C</i> reprezentuje barvu zdi na daném poli
a záporné číslo od &minus;<i>C</i> do &minus;1 reprezentuje barvu spínače na daném poli - spínač, jehož barva má identifikátor
<i>B</i>, je reprezentovaný číslem &minus;<i>B</i>. 
<br>
Je zaručeno, že cílové pole je dosažitelné.
<br>
Platí 1 &le; <i>M</i>, <i>N</i> &le; 1000, 2 &le; <i>C</i> &le; 10.
<br>
Pro prvních 5 public i private instancí platí <i>C</i> = 2.



</p>


 <h3><font color="blue">Výstup</font></h3>
<p align="justify">
Výstup sestává z jednoho textového řádku, který obsahuje číslo, jež je rovno minimálnímu počtu tahů potřebných na přesun Toma
z levého dolního rohu do pravého horního rohu.
</p>


<h3><font color="blue">Příklad 1</font></h3>

<b>Vstup</b><br>
<pre>
4 6 2
0 0 0 0 1 0
0 2 -2 0 2 1
0 -2 2 0 0 2
0 0 0 2 0 -1
</pre>

<b>Výstup</b><br>
<pre>
14
</pre>

Data a řešení Příkladu 1 jsou vizualizována na <b>Obrázku</b> 1.
<br/>

<h3><font color="blue">Příklad 2</font></h3>
<b>Vstup</b><br>
<pre>
6 8 2
-1 1 0 0 -1 0 2 0
-1 1 -2 1 0 0 2 -2
0 1 0 1 1 0 2 0
0 0 0 1 0 0 2 1
0 0 0 1 0 2 2 1
0 0 0 1 0 0 0 0
</pre>

<b>Výstup</b><br>
<pre>
20
</pre>

<hr>
<h3><font color="blue">Veřejná data</font></h3>
<p align="justify">
Veřejná data k&nbsp;úloze jsou k&nbsp;dispozici. Veřejná data jsou uložena také v&nbsp;odevzdávacím systému a při
každém odevzdání/spuštění úlohy dostává řešitel kompletní výstup na stdout a stderr ze svého programu
pro každý soubor veřejných dat. 
<br>
<a href="getdata.php?task=compgame&amp;item=datapub.zip"><b>Veřejná data</b></a>
</p>

</div></body></html></body>
</html>
